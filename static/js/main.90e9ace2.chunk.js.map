{"version":3,"sources":["images/Avatar.png","utils/Api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/Vector.png","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","images/logo.svg","components/Header.js","hooks/Validation.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup .js","components/AuthRegForm/AuthRegForm.js","components/Register.js","components/Login.js","components/InfoToolTip/InfoTooltip.js","images/Union.png","images/Union-Err.png","components/ProtectedRoute.js","components/Nav/NavButton.js","utils/Auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["sendRequest","baseUrl","headers","this","_baseUrl","_headers","fetch","method","then","_checkResponse","data","body","JSON","stringify","name","about","addName","link","addLink","cardId","avatar","isLiked","res","console","log","ok","json","Promise","reject","status","authorization","CurrentUserContext","React","createContext","Card","props","handleClick","onImage","card","onImagePopup","handleLikeClick","onCardLike","handleDeleteClick","onCardDelete","className","src","alt","onClick","likes","some","el","_id","context","type","length","owner","Component","contextType","Main","currentUser","useContext","onEditAvatar","onEditProfile","onAddPlace","cards","map","ind","Footer","PopupWithForm","handleOverlay","e","target","currentTarget","onCloseAll","onMouseUp","isOpen","title","onSubmit","id","children","validButton","loader","ImagePopup","onClose","Header","logo","useFormAndValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","value","validity","valueMissing","tooShort","typeMismatch","validationMessage","closest","checkValidity","EditProfilePopup","useEffect","editName","editDescription","preventDefault","onUpdateUser","onChange","placeholder","required","minLength","maxLength","EditAvatarPopup","avaLink","AddPlacePopup","onAddCard","AuthRegForm","history","useNavigate","formText","buttonText","regLink","redirect","Register","registerEmail","registerPassword","inputValues","setInputValues","event","LogIn","logInEmail","logInPassword","InfoTooltip","isOpened","success","ProtectedRoute","redirectTo","loggedIn","to","NavButton","htmlFor","email","sendAuth","password","token","localStorage","setItem","Authorization","App","setLoggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImageAvatarPopupOpen","setIsImageAvatarPopupOpen","isAuthPopupOpen","setIsAuthPopupOpen","isRegSucces","setIsRegSucces","selectedCard","setSelectedCard","setCurrentUser","setCards","mail","setMail","loaderEdit","setLoaderEdit","loaderAdd","setLoaderAdd","loaderAva","setLoaderAva","closeAllPopups","Api","getUserData","catch","err","handleEsc","key","document","addEventListener","removeEventListener","getCards","items","myToken","getItem","checkToken","logInData","handleTokenCheck","Provider","path","element","registration","regData","exact","removeItem","cardData","i","changeLikeCardStatus","newCard","c","deleteCardRequest","filter","sendUserData","finally","changeAvatarRequest","sendUserCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.90e9ace2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Avatar.727b5baa.png\";","export class Api {\r\n    constructor(baseUrl, headers) {\r\n        this._baseUrl = baseUrl;\r\n        this._headers = headers;\r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this._baseUrl}users/me`, {\r\n            method: \"GET\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._baseUrl}cards`, {\r\n            method: \"GET\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    sendUserData(data) {\r\n        return fetch(`${this._baseUrl}users/me`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about,\r\n            }),\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    sendUserCard(data) {\r\n        return fetch(`${this._baseUrl}cards`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.addName,\r\n                link: data.addLink,\r\n            }),\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    //ЭТО ТЕСТЕР\r\n    //     sendUserCard() {\r\n    //     return fetch(`${this._baseUrl}cards`, {\r\n    //         method: 'POST',\r\n    //         headers: this._headers,\r\n    //         body: JSON.stringify({\r\n    //           name: 'EMPERROR GUIDES',\r\n    //           link: 'https://yobte.ru/uploads/posts/2019-11/warhammer-40000-55-foto-39.jpg'\r\n    //         })\r\n    //       })\r\n    //       .then(this._checkResponse);\r\n    // }\r\n\r\n    deleteCardRequest(cardId) {\r\n        return fetch(`${this._baseUrl}cards/${cardId}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    pressLikeRequest(cardId) {\r\n        return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\r\n            method: \"PUT\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    deleteLikeRequest(cardId) {\r\n        return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    changeAvatarRequest(data) {\r\n        return fetch(`${this._baseUrl}users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: data,\r\n            }),\r\n        }).then(this._checkResponse);\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        if (isLiked) {\r\n            return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\r\n                method: \"PUT\",\r\n                headers: this._headers,\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    return res;\r\n                })\r\n                .then(this._checkResponse);\r\n        } else {\r\n            return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\r\n                method: \"DELETE\",\r\n                headers: this._headers,\r\n            })\r\n                .then((res) => {\r\n                    return res;\r\n                })\r\n                .then(this._checkResponse);\r\n        }\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n\r\n    // registration(link, data) {\r\n    //     return fetch(`${link}/signup`, {\r\n    //         method: \"POST\",\r\n    //         headers: { \"Content-Type\": \"application/json\" },\r\n    //         body: JSON.stringify({\r\n    //             password: data.registerPassword,\r\n    //             email: data.registerEmail,\r\n    //         }),\r\n    //     })\r\n    //         .then((res) => {\r\n    //             return res;\r\n    //         })\r\n    //         .then(this._checkResponse);\r\n    // }\r\n\r\n    // authorization(link, data) {\r\n    //     return fetch(`${link}/signin`, {\r\n    //         method: \"POST\",\r\n    //         headers: { \"Content-Type\": \"application/json\" },\r\n    //         body: JSON.stringify({\r\n    //             password: data.logInPassword,\r\n    //             email: data.logInEmail,\r\n    //         }),\r\n    //     })\r\n    //         .then((res) => {\r\n    //             console.log(res);\r\n    //             return res;\r\n    //         })\r\n    //         .then((res) => {\r\n    //             if (res.token) {\r\n    //                 localStorage.setItem(\"token\", res.token);\r\n    //                 return res;\r\n    //             } else {\r\n    //                 return res;\r\n    //             }\r\n    //         })\r\n    //         .then(this._checkResponse);\r\n    // }\r\n\r\n    // checkToken(link, token) {\r\n    //     return fetch(`${link}/users/me`, {\r\n    //         method: \"GET\",\r\n    //         headers: {\r\n    //             \"Content-Type\": \"application/json\",\r\n    //             Authorization: `Bearer ${token}`,\r\n    //         },\r\n    //     })\r\n    //         .then((res) => {\r\n    //             return res;\r\n    //         })\r\n    //         .then(this._checkResponse);\r\n    // }\r\n}\r\n\r\nconst sendRequest = new Api(\"https://mesto.nomoreparties.co/v1/cohort-28/\", {\r\n    authorization: \"7623580f-b1ba-482c-8170-fbcdd1434884\",\r\n    \"Content-Type\": \"application/json\",\r\n});\r\n\r\nexport default sendRequest;\r\n","import React, { createContext } from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\nexport const currentUser = {\r\n\r\n}","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nclass Card extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    static contextType = CurrentUserContext;\r\n\r\n    handleClick = () => {\r\n        this.props.onImage(this.props.card);\r\n        this.props.onImagePopup();\r\n    };\r\n\r\n    handleLikeClick = () => {\r\n        this.props.onCardLike(this.props.card);\r\n    };\r\n\r\n    handleDeleteClick = () => {\r\n        this.props.onCardDelete(this.props.card);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <article className=\"elements__item\">\r\n                {/* {console.log(el)} console.log(this.context)*/}\r\n                <img\r\n                    className=\"elements__illustration\"\r\n                    src={this.props.card.link}\r\n                    alt=\"Иллюстрация к карточке\"\r\n                    onClick={this.handleClick}\r\n                />\r\n                <div className=\"elements__info\">\r\n                    <h2 className=\"elements__title\">{this.props.card.name}</h2>\r\n                    <div className=\"elements__info-container\">\r\n                        <button\r\n                            className={`elements__like ${\r\n                                this.props.card.likes.some(\r\n                                    (el) => el._id === this.context._id\r\n                                ) && \"elements__like_active\"\r\n                            }`}\r\n                            onClick={this.handleLikeClick}\r\n                            type=\"button\"\r\n                        ></button>\r\n                        <span className=\"elements__like-count\">\r\n                            {this.props.card.likes.length}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <button\r\n                    onClick={this.handleDeleteClick}\r\n                    className={`elements__delete ${\r\n                        this.props.card.owner._id !== this.context._id &&\r\n                        \"elements__delete_hidden\"\r\n                    }`}\r\n                ></button>\r\n            </article>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Card;\r\n","import React, { useEffect } from \"react\";\r\nimport changeIcon from \"../images/Vector.png\";\r\nimport avatar from \"../images/Avatar.png\";\r\nimport Api from \"../utils/Api\";\r\nimport Card from \"./Card\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport react from \"react\";\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__info-wrapper\">\r\n                    <div className=\"profile__illustration-wrapper\">\r\n                        <div className=\"profile__illustration-overlay\"></div>\r\n                        <img\r\n                            className=\"profile__illustration-redact\"\r\n                            alt=\"Изменить аватар\"\r\n                            src={changeIcon}\r\n                            onClick={props.onEditAvatar}\r\n                        />\r\n                    </div>\r\n                    <img\r\n                        className=\"profile__illustration\"\r\n                        alt=\"Аватар пользователя\"\r\n                        src={currentUser.avatar}\r\n                    />\r\n                    <div className=\"profile__info\">\r\n                        <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"profile__edit-button\"\r\n                            onClick={props.onEditProfile}\r\n                        ></button>\r\n                        <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                    </div>\r\n                </div>\r\n                <button\r\n                    className=\"profile__add-button\"\r\n                    type=\"button\"\r\n                    onClick={props.onAddPlace}\r\n                ></button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                {props.cards.map((el, ind) => {\r\n                    return (\r\n                        <Card\r\n                            onImagePopup={props.onImagePopup}\r\n                            onCardDelete={props.onCardDelete}\r\n                            onCardLike={props.onCardLike}\r\n                            card={el}\r\n                            onImage={props.onImage}\r\n                            key={el._id}\r\n                        />\r\n                    );\r\n                })}\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB9SURBVHgB7dbBCYAwDAXQ4ASO4CiO4AgdwQ10BDfqKBklpjRCKIiXfLzkQyi95PHppUSAiMiiU9tJqBjC0sMQbEAEgr0gTypF5AOJaZRIIokkksifiEEFjjjsRDY5/DKHxTaxhTxgezSyQt/CMuls7j7rFEJE+kfvas0ImBsR7skYWCY75QAAAABJRU5ErkJggg==\"","import React from 'react';\r\n\r\nfunction Footer(props) {\r\n   return (\r\n    <footer className=\"footer\">\r\n    <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>)\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nclass PopupWithForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    handleOverlay = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n            this.props.onCloseAll();\r\n        }\r\n        // const popups = Array.from(document.querySelectorAll(\".popup\"));\r\n        // e.stopPropagation();\r\n        // popups.forEach((el) => {\r\n        //     e.target === el && this.props.onCloseAll();\r\n        // });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <article\r\n                onMouseUp={this.handleOverlay}\r\n                className={`popup popup_${this.props.name} ${\r\n                    this.props.isOpen && \"popup_opened\"\r\n                }`}\r\n            >\r\n                <div className=\"popup__container\">\r\n                    <h2 className=\"popup__title\">{this.props.title}</h2>\r\n                    <form\r\n                        onSubmit={this.props.onSubmit}\r\n                        className={`form form_${this.props.name}`}\r\n                        name={`${this.props.name}`}\r\n                        id={`form_${this.props.name}ID`}\r\n                    >\r\n                        {this.props.children}\r\n                        <button\r\n                            type=\"submit\"\r\n                            className={`popup__submit \r\n                            ${!this.props.validButton && \"ssubmit-invalid\"}`}\r\n                        >\r\n                            Сохранить\r\n                        </button>\r\n                    </form>\r\n                    <button\r\n                        className={`popup__close popup_${this.props.name}`}\r\n                        type=\"button\"\r\n                        onClick={this.props.onCloseAll}\r\n                    ></button>\r\n\r\n                    {this.props.loader && (\r\n                        <div className=\"circ\">\r\n                            <div className=\"circ_load\">Loading . . . </div>\r\n                            <div className=\"circ_hands\"></div>\r\n                            <div className=\"circ_body\"></div>\r\n                            <div className=\"circ_head\">\r\n                                <div className=\"circ_eye\"></div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </article>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n    function handleOverlay(e) {\r\n        // const popups = Array.from(document.querySelectorAll(\".popup\"));\r\n        // e.stopPropagation();\r\n        // popups.forEach((el) => {\r\n        //     e.target === el && props.onClose();\r\n        // });\r\n        if (e.target === e.currentTarget) {\r\n            props.onClose();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <article\r\n            onClick={handleOverlay}\r\n            className={`popup popup_${props.name} ${\r\n                props.isOpen && \"popup_opened\"\r\n            }`}\r\n        >\r\n            <div className=\"popup__wrapper\">\r\n                <img\r\n                    className=\"popup__illustration\"\r\n                    src={`${props.card.link}`}\r\n                    alt=\"Картинка места\"\r\n                />\r\n                <h2 className=\"popup__image-title\">{props.card.name}</h2>\r\n                <button\r\n                    className=\"popup__close popup__close_opened-image\"\r\n                    onClick={props.onClose}\r\n                    type=\"button\"\r\n                ></button>\r\n            </div>\r\n        </article>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;\r\n","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport logo from \"../images/logo.svg\";\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header__container\">\r\n                <img alt=\"Logo\" className=\"header__logo\" src={logo} />\r\n                {props.children}\r\n            </div>\r\n            <div className=\"header__line\"></div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import { useState, useCallback } from \"react\";\r\n\r\nexport function useFormAndValidation() {\r\n    const [values, setValues] = useState({});\r\n    const [errors, setErrors] = useState({});\r\n    const [isValid, setIsValid] = useState(true);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        if (e.target.validity.valueMissing === true) {\r\n            setErrors({\r\n                ...errors,\r\n                [name]: \"Будь котиком, зополни пустое поле\",\r\n            });\r\n        } else if (e.target.validity.tooShort === true) {\r\n            setErrors({\r\n                ...errors,\r\n                [name]: \"Коротковато, давай подключим фантазию\",\r\n            });\r\n        } else if (e.target.validity.typeMismatch === true) {\r\n            setErrors({\r\n                ...errors,\r\n                [name]: \"Ну вообще-то тут нужна ссылка, а не вот это вот=)\",\r\n            });\r\n        } else {\r\n            setErrors({ ...errors, [name]: e.target.validationMessage });\r\n        }\r\n        setValues({ ...values, [name]: value });\r\n\r\n        setIsValid(e.target.closest(\"form\").checkValidity());\r\n    };\r\n\r\n    const resetForm = useCallback(\r\n        (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n            setValues(newValues);\r\n            setErrors(newErrors);\r\n            setIsValid(newIsValid);\r\n        },\r\n        [setValues, setErrors, setIsValid]\r\n    );\r\n\r\n    return {\r\n        values,\r\n        handleChange,\r\n        errors,\r\n        isValid,\r\n        resetForm,\r\n        setValues,\r\n        setIsValid,\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport {\r\n    CurrentUserContext,\r\n    currentUser,\r\n} from \"../contexts/CurrentUserContext\";\r\nimport { useFormAndValidation } from \"../hooks/Validation\";\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const { values, handleChange, errors, isValid, setValues, resetForm } =\r\n        useFormAndValidation();\r\n\r\n    React.useEffect(() => {\r\n        setValues({\r\n            ...values,\r\n            editName: currentUser.name,\r\n            editDescription: currentUser.about,\r\n        });\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name: values.editName,\r\n            about: values.editDescription,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            validButton={isValid}\r\n            loader={props.loader}\r\n            onSubmit={handleSubmit}\r\n            title=\"Редактировать&nbsp;профиль\"\r\n            name=\"edit\"\r\n            isOpen={props.isOpen}\r\n            onCloseAll={props.onClose}\r\n            children={\r\n                <>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={values.editName || \"\"}\r\n                        onChange={handleChange}\r\n                        className=\"popup__field popup__field_type_name\"\r\n                        placeholder=\"Жак-Ив-Кусто\"\r\n                        name=\"editName\"\r\n                        id=\"name\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"40\"\r\n                    />\r\n                    <span className=\"error\" id=\"name-error\">\r\n                        {errors.editName}\r\n                    </span>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={values.editDescription || \"\"}\r\n                        onChange={handleChange}\r\n                        className=\"popup__field popup__field_type_job\"\r\n                        name=\"editDescription\"\r\n                        placeholder=\"Исследователь океана\"\r\n                        id=\"profession\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                    />\r\n                    <span className=\"error\" id=\"profession-error\">\r\n                        {errors.editDescription}\r\n                    </span>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n\r\n// import React from \"react\";\r\n// import PopupWithForm from \"./PopupWithForm\";\r\n// import {\r\n//     CurrentUserContext,\r\n//     currentUser,\r\n// } from \"../contexts/CurrentUserContext\";\r\n\r\n// function EditProfilePopup(props) {\r\n//     const currentUser = React.useContext(CurrentUserContext);\r\n\r\n//     const [inputName, setName] = React.useState({\r\n//         editName: \"\",\r\n//         editDescription: \"\",\r\n//     });\r\n\r\n//     React.useEffect(() => {\r\n//         setName({\r\n//             ...inputName,\r\n//             editName: currentUser.name,\r\n//             editDescription: currentUser.about,\r\n//         });\r\n//     }, [currentUser, props.isOpen]);\r\n\r\n//     const handleChange = (event) => {\r\n//         setName({ ...inputName, [event.target.name]: event.target.value });\r\n//         props.handleValidity(event.target);\r\n//         console.log(inputName);\r\n//     };\r\n\r\n//     function handleSubmit(e) {\r\n//         e.preventDefault();\r\n//         props.onUpdateUser({\r\n//             name: inputName.editName,\r\n//             about: inputName.editDescription,\r\n//         });\r\n//     }\r\n\r\n//     return (\r\n//         <PopupWithForm\r\n//             validButton={props.validity.isValid}\r\n//             loader={props.loader}\r\n//             onSubmit={handleSubmit}\r\n//             title=\"Редактировать&nbsp;профиль\"\r\n//             name=\"edit\"\r\n//             isOpen={props.isOpen}\r\n//             onCloseAll={props.onClose}\r\n//             children={\r\n//                 <>\r\n//                     <input\r\n//                         type=\"text\"\r\n//                         value={inputName.editName || \"\"}\r\n//                         onChange={handleChange}\r\n//                         className=\"popup__field popup__field_type_name\"\r\n//                         placeholder=\"Жак-Ив-Кусто\"\r\n//                         name=\"editName\"\r\n//                         id=\"name\"\r\n//                         required\r\n//                         minLength=\"2\"\r\n//                         maxLength=\"40\"\r\n//                     />\r\n//                     <span className=\"error\" id=\"name-error\">\r\n//                         {props.validity.message.editName}\r\n//                     </span>\r\n//                     <input\r\n//                         type=\"text\"\r\n//                         value={inputName.editDescription || \"\"}\r\n//                         onChange={handleChange}\r\n//                         className=\"popup__field popup__field_type_job\"\r\n//                         name=\"editDescription\"\r\n//                         placeholder=\"Исследователь океана\"\r\n//                         id=\"profession\"\r\n//                         required\r\n//                         minLength=\"2\"\r\n//                         maxLength=\"200\"\r\n//                     />\r\n//                     <span className=\"error\" id=\"profession-error\">\r\n//                         {props.validity.message.editDescription}\r\n//                     </span>\r\n//                 </>\r\n//             }\r\n//         />\r\n//     );\r\n// }\r\n\r\n// export default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { useFormAndValidation } from \"../hooks/Validation\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const { values, handleChange, errors, isValid, setValues, resetForm } =\r\n        useFormAndValidation();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            avatar: values.avaLink,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setValues({ avaLink: \"\" });\r\n    }, [props.isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            // validButton={props.validity.isValid}\r\n            loader={props.loader}\r\n            onSubmit={handleSubmit}\r\n            title=\"Обновить&nbsp;аватар\"\r\n            name=\"card-removal\"\r\n            isOpen={props.isOpen}\r\n            onCloseAll={props.onClose}\r\n            children={\r\n                <>\r\n                    <input\r\n                        value={values.avaLink || \"\"}\r\n                        onChange={handleChange}\r\n                        type=\"url\"\r\n                        className=\"popup__field popup__field_type_link\"\r\n                        placeholder=\"Ссылка на аватар\"\r\n                        name=\"avaLink\"\r\n                        id=\"ava-link\"\r\n                        required\r\n                    />\r\n                    <span className=\"error\" id=\"ava-link-error\">\r\n                        {errors.avaLink}\r\n                    </span>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n\r\n// import React from \"react\";\r\n// import PopupWithForm from \"./PopupWithForm\";\r\n// import { useFormAndValidation } from \"../hooks/Validation\";\r\n\r\n// function EditAvatarPopup(props) {\r\n//     const [inputData, setInputData] = React.useState({ current: \"\" });\r\n\r\n//     const handleChangee = (event) => {\r\n//         setInputData({ current: event.target.value });\r\n//         // props.handleValidity(event.target);\r\n//     };\r\n//     const { values, handleChange, errors, isValid, setValues, resetForm } =\r\n//         useFormAndValidation();\r\n\r\n//     function handleSubmit(e) {\r\n//         e.preventDefault();\r\n//         props.onUpdateUser({\r\n//             avatar: inputData.current.value,\r\n//         });\r\n//     }\r\n\r\n//     React.useEffect(() => {\r\n//         inputData.current.value = \"\";\r\n//     }, [props.isOpen]);\r\n\r\n//     return (\r\n//         <PopupWithForm\r\n//             // validButton={props.validity.isValid}\r\n//             loader={props.loader}\r\n//             onSubmit={handleSubmit}\r\n//             title=\"Обновить&nbsp;аватар\"\r\n//             name=\"card-removal\"\r\n//             isOpen={props.isOpen}\r\n//             onCloseAll={props.onClose}\r\n//             children={\r\n//                 <>\r\n//                     <input\r\n//                         value={inputData.current}\r\n//                         onChange={handleChangee}\r\n//                         ref={inputData}\r\n//                         type=\"url\"\r\n//                         className=\"popup__field popup__field_type_link\"\r\n//                         placeholder=\"Ссылка на аватар\"\r\n//                         name=\"avaLink\"\r\n//                         id=\"ava-link\"\r\n//                         required\r\n//                     />\r\n//                     <span className=\"error\" id=\"ava-link-error\">\r\n//                         {/* {props.validity.message.avaLink} */}\r\n//                     </span>\r\n//                 </>\r\n//             }\r\n//         />\r\n//     );\r\n// }\r\n\r\n// export default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { useFormAndValidation } from \"../hooks/Validation\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const { values, handleChange, errors, isValid, setValues, resetForm } =\r\n        useFormAndValidation();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault(e);\r\n        props.onAddCard(values);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setValues({ addName: \"\", addLink: \"\" });\r\n    }, [props.isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            validButton={isValid}\r\n            loader={props.loader}\r\n            onSubmit={handleSubmit}\r\n            title=\"Новое&nbsp;место\"\r\n            name=\"add\"\r\n            isOpen={props.isOpen}\r\n            onCloseAll={props.onClose}\r\n            children={\r\n                <>\r\n                    <input\r\n                        type=\"text\"\r\n                        onChange={handleChange}\r\n                        className=\"popup__field popup__field_type_place\"\r\n                        placeholder=\"Название\"\r\n                        name=\"addName\"\r\n                        id=\"place\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"30\"\r\n                        required\r\n                        value={values.addName || \"\"}\r\n                    />\r\n                    <span className=\"error\" id=\"place-error\">\r\n                        {errors.addName}\r\n                    </span>\r\n                    <input\r\n                        type=\"url\"\r\n                        onChange={handleChange}\r\n                        className=\"popup__field popup__field_type_link\"\r\n                        placeholder=\"Ссылка на картинку\"\r\n                        name=\"addLink\"\r\n                        id=\"link\"\r\n                        required\r\n                        value={values.addLink || \"\"}\r\n                    />\r\n                    <span className=\"error\" id=\"link-error\">\r\n                        {errors.addLink}\r\n                    </span>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n\r\n// import React from \"react\";\r\n// import PopupWithForm from \"./PopupWithForm\";\r\n\r\n// function AddPlacePopup(props) {\r\n//     const [inputName, setName] = React.useState({ addName: \"\", addLink: \"\" });\r\n\r\n//     function handleChange(e) {\r\n//         setName({ ...inputName, [e.target.name]: e.target.value });\r\n//         console.log(inputName);\r\n//         props.handleValidity(e.target);\r\n//     }\r\n\r\n//     function handleSubmit(e) {\r\n//         e.preventDefault(e);\r\n//         props.onAddCard(inputName);\r\n//     }\r\n\r\n//     React.useEffect(() => {\r\n//         setName({ addName: \"\", addLink: \"\" });\r\n//     }, [props.isOpen]);\r\n\r\n//     return (\r\n//         <PopupWithForm\r\n//             validButton={props.validity.isValid}\r\n//             loader={props.loader}\r\n//             onSubmit={handleSubmit}\r\n//             title=\"Новое&nbsp;место\"\r\n//             name=\"add\"\r\n//             isOpen={props.isOpen}\r\n//             onCloseAll={props.onClose}\r\n//             children={\r\n//                 <>\r\n//                     <input\r\n//                         type=\"text\"\r\n//                         onChange={handleChange}\r\n//                         className=\"popup__field popup__field_type_place\"\r\n//                         placeholder=\"Название\"\r\n//                         name=\"addName\"\r\n//                         id=\"place\"\r\n//                         minLength=\"2\"\r\n//                         maxLength=\"30\"\r\n//                         required\r\n//                         value={inputName.addName}\r\n//                     />\r\n//                     <span className=\"error\" id=\"place-error\">\r\n//                         {props.validity.message.addName}\r\n//                     </span>\r\n//                     <input\r\n//                         type=\"url\"\r\n//                         onChange={handleChange}\r\n//                         className=\"popup__field popup__field_type_link\"\r\n//                         placeholder=\"Ссылка на картинку\"\r\n//                         name=\"addLink\"\r\n//                         id=\"link\"\r\n//                         required\r\n//                         value={inputName.addLink}\r\n//                     />\r\n//                     <span className=\"error\" id=\"link-error\">\r\n//                         {props.validity.message.addLink}\r\n//                     </span>\r\n//                 </>\r\n//             }\r\n//         />\r\n//     );\r\n// }\r\n\r\n// export default AddPlacePopup;\r\n","import React from \"react\";\r\nimport reactDom from \"react-dom\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction AuthRegForm(props) {\r\n    const history = useNavigate();\r\n    function handleLogIn() {\r\n        history(props.redirect);\r\n    }\r\n    return (\r\n        <form\r\n            onSubmit={props.onSubmit}\r\n            className={`authRegForm`}\r\n            name={`${props.name}`}\r\n            id={`form_${props.name}ID`}\r\n        >\r\n            <h2 className=\"authRegForm__title\">{props.formText}</h2>\r\n            {props.children}\r\n            <button\r\n                type=\"submit\"\r\n                className={`authRegForm__submit\r\n                            ${!props.validButton && \"ssubmit-invalid\"}`}\r\n            >\r\n                {props.buttonText}\r\n            </button>\r\n            {props.regLink && (\r\n                <h3 className=\"authRegForm__logLink\" onClick={handleLogIn}>\r\n                    {props.regLink}\r\n                </h3>\r\n            )}\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default AuthRegForm;\r\n","import React from \"react\";\r\nimport reactDom from \"react-dom\";\r\nimport AuthRegForm from \"./AuthRegForm/AuthRegForm\";\r\nimport \"./AuthRegForm/AuthRegForm.css\";\r\n\r\nfunction Register(props) {\r\n    const [inputValues, setInputValues] = React.useState({\r\n        registerEmail: \"\",\r\n        registerPassword: \"\",\r\n    });\r\n\r\n    const handleChange = (event) => {\r\n        setInputValues({\r\n            ...inputValues,\r\n            [event.target.name]: event.target.value,\r\n        });\r\n        // props.handleValidity(event.target);\r\n        console.log(inputValues);\r\n    };\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onSubmit(inputValues);\r\n    }\r\n\r\n    return (\r\n        <AuthRegForm\r\n            onSubmit={handleSubmit}\r\n            formText=\"Регистрация\"\r\n            buttonText=\"Зарегистрироваться\"\r\n            name=\"register\"\r\n            redirect=\"/sign-in\"\r\n            regLink=\"Уже зарегистрированы? Войти\"\r\n            children={\r\n                <>\r\n                    <input\r\n                        value={inputValues.registerEmail || \"\"}\r\n                        type=\"email\"\r\n                        onChange={handleChange}\r\n                        className=\"authRegForm__field\"\r\n                        placeholder=\"Email\"\r\n                        name=\"registerEmail\"\r\n                        id=\"registerEmail\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"40\"\r\n                    />\r\n                    <span className=\"error\" id=\"name-error\">\r\n                        {/* {props.validity.message.editName} */}\r\n                    </span>\r\n                    <input\r\n                        value={inputValues.registerPassword || \"\"}\r\n                        type=\"password\"\r\n                        onChange={handleChange}\r\n                        className=\"authRegForm__field\"\r\n                        name=\"registerPassword\"\r\n                        placeholder=\"Пароль\"\r\n                        id=\"registerPassword\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                    />\r\n                    <span className=\"error\" id=\"profession-error\">\r\n                        {/* {props.validity.message.editDescription} */}\r\n                    </span>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport reactDom from \"react-dom\";\r\nimport AuthRegForm from \"./AuthRegForm/AuthRegForm\";\r\nimport \"./AuthRegForm/AuthRegForm.css\";\r\n\r\nfunction LogIn(props) {\r\n    const [inputValues, setInputValues] = React.useState({\r\n        logInEmail: \"\",\r\n        logInPassword: \"\",\r\n    });\r\n\r\n    const handleChange = (event) => {\r\n        setInputValues({\r\n            ...inputValues,\r\n            [event.target.name]: event.target.value,\r\n        });\r\n        // props.handleValidity(event.target);\r\n    };\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onSubmit(inputValues);\r\n    }\r\n\r\n    return (\r\n        <AuthRegForm\r\n            onSubmit={handleSubmit}\r\n            formText=\"Вход\"\r\n            buttonText=\"Войти\"\r\n            name=\"logIn\"\r\n            regLink=\"\"\r\n            children={\r\n                <>\r\n                    <input\r\n                        type=\"email\"\r\n                        onChange={handleChange}\r\n                        value={inputValues.logInEmail || \"\"}\r\n                        className=\"authRegForm__field\"\r\n                        placeholder=\"Email\"\r\n                        name=\"logInEmail\"\r\n                        id=\"logInEmail\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"40\"\r\n                    />\r\n                    <span className=\"error\" id=\"name-error\">\r\n                        {/* {props.validity.message.editName} */}\r\n                    </span>\r\n                    <input\r\n                        value={inputValues.logInPassword || \"\"}\r\n                        type=\"password\"\r\n                        onChange={handleChange}\r\n                        className=\"authRegForm__field\"\r\n                        name=\"logInPassword\"\r\n                        placeholder=\"Пароль\"\r\n                        id=\"logInPassword\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                    />\r\n                    <span className=\"error\" id=\"profession-error\">\r\n                        {/* {props.validity.message.editDescription} */}\r\n                    </span>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default LogIn;\r\n","import React from \"react\";\r\nimport reactDom from \"react-dom\";\r\nimport success from \"../../images/Union.png\";\r\nimport fail from \"../../images/Union-Err.png\";\r\nimport \"../InfoToolTip/InfoTooltip.css\";\r\n\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <article\r\n            // onMouseUp={this.handleOverlay}\r\n            className={`popup ${props.isOpened && \"popup_opened\"}`}\r\n        >\r\n            <div className=\"popup__container\">\r\n                <img\r\n                    className=\"popup__image\"\r\n                    src={props.success ? success : fail}\r\n                    alt={\r\n                        props.success\r\n                            ? \"Вы зарегистрировались\"\r\n                            : \"Что то пошло не так\"\r\n                    }\r\n                />\r\n                <h3 className=\"popup__text\">\r\n                    {props.success\r\n                        ? \"Вы успешно зарегистрировались!\"\r\n                        : \"Что-то пошло не так!Попробуйте ещё раз.\"}\r\n                </h3>\r\n                <button\r\n                    onClick={props.onClose}\r\n                    className={`popup__close`}\r\n                    type=\"button\"\r\n                    // onClick={this.props.onCloseAll}\r\n                ></button>\r\n            </div>\r\n        </article>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport reactDom from \"react-dom\";\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ children, redirectTo, loggedIn }) {\r\n    return loggedIn ? children : <Navigate to={redirectTo} />;\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nimport reactDom from \"react-dom\";\r\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\r\nimport \"../Nav/NavButton.css\";\r\n\r\nfunction NavButton(props) {\r\n    const history = useNavigate();\r\n\r\n    function handleClick() {\r\n        props.loggedIn && props.onClick();\r\n        history(props.redirect);\r\n    }\r\n    return (\r\n        <div className=\"nav\">\r\n            <input id=\"menu-toggle\" type=\"checkbox\" />\r\n            <label className=\"menu-btn\" htmlFor=\"menu-toggle\">\r\n                <span></span>\r\n            </label>\r\n            <div className=\"nav__container\">\r\n                {props.email && props.email}\r\n                <button onClick={handleClick} className=\"nav__button\">\r\n                    {props.buttonText}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NavButton;\r\n","export class Auth {\r\n    constructor(baseUrl, headers) {\r\n        this._baseUrl = baseUrl;\r\n        this._headers = headers;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n\r\n    registration(data) {\r\n        return fetch(`${this._baseUrl}/signup`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                password: data.registerPassword,\r\n                email: data.registerEmail,\r\n            }),\r\n        })\r\n            .then((res) => {\r\n                return res;\r\n            })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    authorization(data) {\r\n        return fetch(`${this._baseUrl}/signin`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                password: data.logInPassword,\r\n                email: data.logInEmail,\r\n            }),\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                return res;\r\n            })\r\n            .then((res) => {\r\n                if (res.token) {\r\n                    localStorage.setItem(\"token\", res.token);\r\n                    return res;\r\n                } else {\r\n                    return res;\r\n                }\r\n            })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    checkToken(token) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: \"GET\",\r\n            headers: {\r\n                ...this._headers,\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        })\r\n            .then((res) => {\r\n                return res;\r\n            })\r\n            .then(this._checkResponse);\r\n    }\r\n}\r\n\r\nconst sendAuth = new Auth(\"https://auth.nomoreparties.co\", {\r\n    \"Content-Type\": \"application/json\",\r\n});\r\n\r\nexport default sendAuth;\r\n","import React from \"react\";\r\nimport { Routes, Route, Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport Header from \"./Header\";\r\nimport Api from \"../utils/Api\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup \";\r\nimport Register from \"./Register\";\r\nimport LogIn from \"./Login\";\r\nimport InfoTooltip from \"./InfoToolTip/InfoTooltip\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport NavButton from \"./Nav/NavButton\";\r\nimport sendAuth from \"../utils/Auth\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport react from \"react\";\r\n\r\nfunction App() {\r\n    const history = useNavigate();\r\n    const [loggedIn, setLoggedIn] = React.useState(false);\r\n    //ПОПАПЫ---------------------------------------------------------\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n        React.useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n        React.useState(false);\r\n    const [isImageAvatarPopupOpen, setIsImageAvatarPopupOpen] =\r\n        React.useState(false);\r\n\r\n    const [isAuthPopupOpen, setIsAuthPopupOpen] = React.useState(false);\r\n    const [isRegSucces, setIsRegSucces] = React.useState(\"\");\r\n    //ПОПАПЫ_________________________________________________________\r\n\r\n    //ЮЗЕР И КАРТОЧКИ_---------------------------------------------------\r\n    const [selectedCard, setSelectedCard] = React.useState({});\r\n\r\n    const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n    const [cards, setCards] = React.useState([]);\r\n\r\n    const [mail, setMail] = React.useState(\"\");\r\n    //ЮЗЕР И КАРТОЧКИ___________________________________________________\r\n\r\n    //ИКОНКА ЗАГРУЗКИ---------------------------------------------------\r\n    const [loaderEdit, setLoaderEdit] = React.useState(false);\r\n    const [loaderAdd, setLoaderAdd] = React.useState(false);\r\n    const [loaderAva, setLoaderAva] = React.useState(false);\r\n    //ИКОНКА ЗАГРУЗКИ___________________________________________________\r\n\r\n    React.useEffect(() => {\r\n        Api.getUserData()\r\n            .then((data) => {\r\n                setCurrentUser(data);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, []);\r\n\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    function handleImageAvatarPopupClick() {\r\n        setIsImageAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleCardClick(cardData) {\r\n        setSelectedCard(cardData);\r\n    }\r\n\r\n    function closeAllPopups() {\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsImageAvatarPopupOpen(false);\r\n        setIsAuthPopupOpen(false);\r\n        setSelectedCard({});\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        function handleEsc(event) {\r\n            if (event.key === `Escape`) {\r\n                closeAllPopups();\r\n            }\r\n        }\r\n        document.addEventListener(\"keydown\", handleEsc);\r\n\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", handleEsc);\r\n        };\r\n    }, []);\r\n\r\n    function handleUpdateUser(data) {\r\n        setLoaderEdit(true);\r\n        Api.sendUserData(data)\r\n            .then((data) => {\r\n                setCurrentUser(data);\r\n            })\r\n            .then(() => {\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n            .finally(() => {\r\n                setLoaderEdit(false);\r\n            });\r\n    }\r\n\r\n    function handleUpdatAvatar(data) {\r\n        setLoaderAva(true);\r\n        Api.changeAvatarRequest(data.avatar)\r\n            .then((data) => {\r\n                setCurrentUser(data);\r\n            })\r\n            .then(() => {\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n            .finally(() => {\r\n                setLoaderAva(false);\r\n            });\r\n    }\r\n\r\n    function handleAddPlaceSubmit(data) {\r\n        setLoaderAdd(true);\r\n        Api.sendUserCard(data)\r\n            .then((data) => {\r\n                setCards([data, ...cards]);\r\n            })\r\n            .then(() => {\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n            .finally(() => {\r\n                setLoaderAdd(false);\r\n            });\r\n    }\r\n\r\n    //CARDS\r\n\r\n    React.useEffect(() => {\r\n        Api.getCards()\r\n            .then((items) => {\r\n                setCards(items);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, []);\r\n\r\n    function handleCardLike(card) {\r\n        //Снова проверяем, есть ли уже лайк на этой карточке\r\n        const isLiked = card.likes.some((i) => {\r\n            return i._id === currentUser._id;\r\n        });\r\n\r\n        // Отправляем запрос в API и получаем обновлённые данные карточки\r\n        Api.changeLikeCardStatus(card._id, !isLiked)\r\n            .then((newCard) => {\r\n                setCards((cards) =>\r\n                    cards.map((c) => (c._id === card._id ? newCard : c))\r\n                );\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    function handleDeleteClick(card) {\r\n        Api.deleteCardRequest(card._id)\r\n            .then((newCard) => {\r\n                setCards((cards) => cards.filter((c) => c !== card));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    function handleRegistrationSubmit(data) {\r\n        sendAuth\r\n            .registration(data)\r\n            .then((regData) => {\r\n                history(\"/sign-in\");\r\n                setIsAuthPopupOpen(true);\r\n                setIsRegSucces(true);\r\n                console.log(regData);\r\n                // if (regData.data._id) {\r\n                //     setIsRegSucces(true);\r\n                // }\r\n            })\r\n            .catch((err) => {\r\n                setIsAuthPopupOpen(true);\r\n                setIsRegSucces(false);\r\n\r\n                console.log(err);\r\n            });\r\n    }\r\n    function handleLogInSubmit(data) {\r\n        sendAuth\r\n            .authorization(data)\r\n            .then((logInData) => {\r\n                localStorage.setItem(\"token\", logInData.token);\r\n                setLoggedIn(true);\r\n\r\n                history(\"/\");\r\n\r\n                return logInData;\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        handleTokenCheck();\r\n        console.log(\"USEeffect\");\r\n    }, [loggedIn]);\r\n    function handleTokenCheck() {\r\n        const myToken = localStorage.getItem(\"token\");\r\n        if (myToken) {\r\n            sendAuth\r\n                .checkToken(myToken)\r\n                .then((logInData) => {\r\n                    setMail(logInData.data.email);\r\n                    console.log(logInData.data.email);\r\n                    if (logInData) {\r\n                        setLoggedIn(true);\r\n\r\n                        history(\"/\");\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }\r\n\r\n    function handleExitAccount() {\r\n        setMail(\"\");\r\n        localStorage.removeItem(\"token\");\r\n        setLoggedIn(false);\r\n    }\r\n\r\n    return (\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <div className=\"App\">\r\n                <InfoTooltip\r\n                    success={isRegSucces}\r\n                    onClose={closeAllPopups}\r\n                    isOpened={isAuthPopupOpen}\r\n                />\r\n\r\n                <Routes>\r\n                    <Route\r\n                        path=\"/sign-in\"\r\n                        element={\r\n                            <>\r\n                                <Header\r\n                                    children={\r\n                                        <>\r\n                                            <NavButton\r\n                                                email={false}\r\n                                                buttonText=\"Регистрация\"\r\n                                                redirect=\"/sign-up\"\r\n                                            />\r\n                                        </>\r\n                                    }\r\n                                />\r\n                                <LogIn onSubmit={handleLogInSubmit} />\r\n                            </>\r\n                        }\r\n                    />\r\n                    <Route\r\n                        path=\"/sign-up\"\r\n                        element={\r\n                            <>\r\n                                <Header\r\n                                    children={\r\n                                        <>\r\n                                            <NavButton\r\n                                                email={false}\r\n                                                buttonText=\"Войти\"\r\n                                                redirect=\"/sign-in\"\r\n                                            />\r\n                                        </>\r\n                                    }\r\n                                />\r\n                                <Register onSubmit={handleRegistrationSubmit} />\r\n                            </>\r\n                        }\r\n                    />\r\n\r\n                    <Route\r\n                        exact\r\n                        path=\"/\"\r\n                        element={\r\n                            <ProtectedRoute\r\n                                redirectTo=\"/sign-in\"\r\n                                loggedIn={loggedIn}\r\n                            >\r\n                                <Header\r\n                                    children={\r\n                                        <>\r\n                                            <NavButton\r\n                                                loggedIn={loggedIn}\r\n                                                onClick={handleExitAccount}\r\n                                                email={\r\n                                                    <h3 className=\"nav__email\">\r\n                                                        {mail}\r\n                                                    </h3>\r\n                                                }\r\n                                                buttonText=\"Выход\"\r\n                                                redirect=\"/sign-in\"\r\n                                            />\r\n                                        </>\r\n                                    }\r\n                                />\r\n                                <Main\r\n                                    currentUser={currentUser}\r\n                                    onEditProfile={handleEditProfileClick}\r\n                                    onAddPlace={handleAddPlaceClick}\r\n                                    onEditAvatar={handleEditAvatarClick}\r\n                                    onImagePopup={handleImageAvatarPopupClick}\r\n                                    onImage={handleCardClick}\r\n                                    cards={cards}\r\n                                    onCardLike={handleCardLike}\r\n                                    onCardDelete={handleDeleteClick}\r\n                                />\r\n                                <EditProfilePopup\r\n                                    loader={loaderEdit}\r\n                                    onUpdateUser={handleUpdateUser}\r\n                                    isOpen={isEditProfilePopupOpen}\r\n                                    onClose={closeAllPopups}\r\n                                />\r\n                                <EditAvatarPopup\r\n                                    loader={loaderAva}\r\n                                    onUpdateUser={handleUpdatAvatar}\r\n                                    isOpen={isEditAvatarPopupOpen}\r\n                                    onClose={closeAllPopups}\r\n                                />\r\n                                <AddPlacePopup\r\n                                    loader={loaderAdd}\r\n                                    onAddCard={handleAddPlaceSubmit}\r\n                                    isOpen={isAddPlacePopupOpen}\r\n                                    onClose={closeAllPopups}\r\n                                />\r\n                                <PopupWithForm\r\n                                    title=\"Вы уверены?\"\r\n                                    name=\"reset-avatar\"\r\n                                />\r\n                                <ImagePopup\r\n                                    isOpen={isImageAvatarPopupOpen}\r\n                                    name=\"press-image\"\r\n                                    card={selectedCard}\r\n                                    onClose={closeAllPopups}\r\n                                />\r\n                                <Footer />{\" \"}\r\n                            </ProtectedRoute>\r\n                        }\r\n                    />\r\n                </Routes>\r\n            </div>\r\n        </CurrentUserContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport { BrowserRouter, Outlet } from \"react-router-dom\";\r\n\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}